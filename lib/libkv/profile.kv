<Profile>:
    name:"profile"
    MDNavigationLayout:
        MDScreenManager:
            id:sm
            MDScreen:
                name:'Profile'
                md_bg_color:56/255,40/255,81/255,1
                MDTopAppBar:
                    title:"Profile"
                    elevation:5
                    pos_hint:{"top":1}
                    left_action_items: [['menu',lambda x:nav_drawer.set_state('open')]]
                    right_action_items:[['logout-variant',lambda x: root.manager.change_screen('login'),"Log Out"]]
                MDGridLayout:
                    size_hint_y:.75
                    cols:2
                    padding: '15dp'
                    spacing: '15dp'
                    pos_hint:{'center_x':0.5,'center_y':0.5}
                    PElementCard:
                        text:"Change Username"
                        image:'assets/images/profile.png'
                        on_release:
                            root.show_custom_bottom_sheet('Username')
                    PElementCard:
                        text:"Change Email"
                        image:'assets/images/email.png'
                        on_release:
                            root.show_custom_bottom_sheet('Email')
                    PElementCard:
                        text:"Change Password"
                        image:'assets/images/reset-password.png'
                        on_release:
                            root.show_custom_bottom_sheet('Password')
                    PElementCard:
                        text:"Change Phone Number"
                        image:'assets/images/telephone.png'
                        on_release:
                            root.show_custom_bottom_sheet('Phone')
        MDNavigationDrawer:
            id:nav_drawer
            ContentNavigationDrawer:
                orientation: 'vertical'
                padding: "8dp"
                spacing: "8dp"
                ScrollView:
                    DrawerList:
                        id: md_list
                        MDList:
                            OneLineIconListItem:
                                text: "Main"
                                on_release:
                                    root.manager.current="home"
                                    root.ids.nav_drawer.set_state('close')
                                IconLeftWidget:
                                    icon: "home"

<UsernameSheet@MDBoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height:'200dp'

    MDTextField:
        id:change_username
        hint_text:'Username'
        helper_text: 'This field is required'
        helper_text_mode:'on_error'
        pos_hint:{'center_x':0.5,'center_y':0.75}
        size_hint_x:None
        icon_right:'account-box'
        width:300

<EmailSheet@MDBoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height:'200dp'

    MDTextField:
        id:change_email
        hint_text:'Email@email.com'
        pos_hint:{'center_x':0.5,'center_y':0.65}
        size_hint_x:None
        icon_right:'email'
        width:300
<PasswordSheet@MDBoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height:'200dp'

    MDTextField:
        id:change_password_old
        hint_text:'Old Password'
        password:True
        pos_hint:{'center_x':0.5,'center_y':0.55}
        size_hint_x:None
        icon_right:'form-textbox-password'
        width:300
    MDTextField:
        id:change_password
        hint_text:'New Password'
        password:True
        pos_hint:{'center_x':0.5,'center_y':0.55}
        size_hint_x:None
        icon_right:'form-textbox-password'
        width:300
<PhoneSheet@MDBoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height:'100dp'
    MDGridLayout:
        size_hint_y:.75
        cols:2
        padding: '15dp'
        spacing: '15dp'
        pos_hint:{'center_x':0.5,'center_y':0.5}
        adaptive_width:"True"
        MDTextField:
            id:change_phone
            hint_text:'Phone'
            size_hint_x:None
            icon_right:'cellphone'
            width:300
        MDFillRoundFlatButton:
            id:btn
            text:"Change"
            size_hint_x:None
#    MDFillRoundFlatButton:
#        text:'Register Now'
#        pos_hint:{'center_x':0.5,'center_y':0.35}
#        md_bg_color:'orange'
#        on_press:root.get_data()

<PElementCard@MDCard>
    md_bg_color:69/255,55/255,86/255,1
    orientation:'vertical'
    size_hint_y:None
    height: '175dp'
    padding: '10dp'
    radius: '20dp'
    ripple_behavior: True
#    on_release:
#        app.show_custom_bottom_sheet()
    image:''
    text:''
    subtext:''

    MDLabel:
        halign:"center"
        text:root.text
    Image:
        source:root.image
        size_hint_y:3
        allow_stretch:True
    MDLabel:
        halign:"center"
        text:root.subtext